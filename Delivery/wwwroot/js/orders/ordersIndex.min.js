function playMusic(){audio.play()}function stopMusic(){audio.currentTime=0;audio.pause()}function insertOrder(n){var t=document.createElement("li"),i,r;t.className="btn btn-danger btn-lg";t.setAttribute("onclick",`orderDetails(${n})`);t.id=`li${n}`;i=document.createElement("h5");i.textContent=`Поръчка: ${n}`;t.appendChild(i);r=document.getElementById("listOrders");r.insertBefore(t,r.childNodes[0])}function cStatus(n,t){connection.invoke("ChangeStatus",n,t)}function changeStatus(){var n=$("#statusValue").val(),t=document.getElementById("order").innerHTML;cStatus(n,t)}function orderDetails(n){$.ajax({url:`/Orders/Details?orderId=${n}`,cache:!1,success:function(n){document.getElementById("detailSection").innerHTML=n}})}var audio=document.getElementById("audio"),connection=null;setupConnection=()=>{connection=(new signalR.HubConnectionBuilder).withUrl("/orderHub").build();connection.on("NewOrder",function(n){insertOrder(n);playMusic()});connection.on("AlertMessage",function(n){alert(n)});connection.on("StatusChanged",function(n,t){if(n){stopMusic();var i=document.getElementById(`li${t}`);i.className="btn btn-success btn-lg"}});connection.on("Finished",function(){connection.stop()});connection.start().catch(n=>console.error(n.toString()))};setupConnection();